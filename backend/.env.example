# ============================================
# Chattrix Backend Environment Variables
# ============================================
# Copy this file to .env and fill in your values
# cp env.example .env

# ============================================
# REQUIRED VARIABLES
# ============================================

# MongoDB Connection String
# Format: mongodb://localhost:27017/chattrix (local)
# Format: mongodb+srv://user:password@cluster.mongodb.net/chattrix?retryWrites=true&w=majority (Atlas)
MONGO_URL=mongodb://localhost:27017/chattrix

# JWT Secret for signing access tokens (short-lived: 15 minutes)
# Must be at least 32 characters long for security
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
JWT_SECRET=your-super-secret-jwt-key-min-32-chars-long-please-change-this

# ============================================
# REQUIRED IN PRODUCTION
# ============================================

# Frontend URL for CORS configuration
# Required when NODE_ENV=production
# Example: https://your-frontend-domain.com
# Example: https://chattrix-frontend-yg18.onrender.com
FRONTEND_URL=http://localhost:3000

# ============================================
# OPTIONAL BUT RECOMMENDED
# ============================================

# JWT Refresh Secret for signing refresh tokens (long-lived: 7 days)
# If not set, falls back to JWT_SECRET (less secure)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
JWT_REFRESH_SECRET=your-super-secret-refresh-key-min-32-chars-long-please-change-this

# ============================================
# OPTIONAL VARIABLES
# ============================================

# Node Environment
# Options: development, production, test
# Default: development
NODE_ENV=development

# Server Port
# Default: 3000
# Note: Render and other platforms usually set this automatically via PORT env var
PORT=3000

# Redis URL for Socket.io horizontal scaling (optional)
# Only needed if running multiple backend instances
# Format: redis://localhost:6379 (local)
# Format: redis://:password@host:port (cloud)
# Format: rediss://:password@host:port (SSL)
# Leave empty for single-instance mode
REDIS_URL=

# Logging Level
# Options: fatal, error, warn, info, debug, trace
# Default: "info" (production), "info" (development)
# Set to "debug" or "trace" for more verbose logging during development
LOG_LEVEL=info

# ============================================
# NOTES
# ============================================
# - Never commit .env file to version control
# - Keep secrets secure and rotate them periodically
# - In production, use secure secret management (e.g., Render Environment Variables)
# - JWT_SECRET and JWT_REFRESH_SECRET should be different for better security
# - FRONTEND_URL must match your frontend domain exactly (no trailing slash)

